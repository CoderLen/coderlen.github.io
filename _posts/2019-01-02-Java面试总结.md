### Java面试总

1. Java常用的线程池有多少种? 有什么区别?

   CachedThreadPool：可缓存的线程池，线程数量没有限制，如果长时间没有往线程池中提交任务，即如果工作线程空闲了指定的时间，默认是一分钟，则该线程将会自动终止。

   ```java
   /**
        * Creates a thread pool that creates new threads as needed, but
        * will reuse previously constructed threads when they are
        * available.  These pools will typically improve the performance
        * of programs that execute many short-lived asynchronous tasks.
        * Calls to {@code execute} will reuse previously constructed
        * threads if available. If no existing thread is available, a new
        * thread will be created and added to the pool. Threads that have
        * not been used for sixty seconds are terminated and removed from
        * the cache. Thus, a pool that remains idle for long enough will
        * not consume any resources. Note that pools with similar
        * properties but different details (for example, timeout parameters)
        * may be created using {@link ThreadPoolExecutor} constructors.
        *
        * @return the newly created thread pool
        */
       public static ExecutorService newCachedThreadPool() {
           return new ThreadPoolExecutor(0, Integer.MAX_VALUE,
                                         60L, TimeUnit.SECONDS,
                                         new SynchronousQueue<Runnable>());
       }
   
   ```



   FixedThreadPool：创建指定线程数的固定线程池。能够提高程序效率，节省创建线程时所耗的开销。但是在线程池空闲时，即使线程中没有了可运行的任务，它也不会释放工作线程，还会占用一定的系统资源。

   ```java
    public static ExecutorService newFixedThreadPool(int nThreads) {
           return new ThreadPoolExecutor(nThreads, nThreads,
                                         0L, TimeUnit.MILLISECONDS,
                                         new LinkedBlockingQueue<Runnable>());
       }
   ```

   SingleThreadExecutor：创建一个单线程的Executor，只有一个工作线程，保证所有的任务按照指定的顺序来执行。

   ScheduleThreadPool：创建一个定长的线程池，而且支持定时的以及周期性的任务执行。

2. 

